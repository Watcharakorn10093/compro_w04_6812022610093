#include <stdio.h>

void countCall() {
    int counter = 0;  // ตัวแปรปกติจะถูกสร้างใหม่ทุกครั้งที่เรียกฟังก์ชัน
    counter++;
    printf("Call Function: Counter = %d\n", counter);
}

int main() {
    printf("Starting function calls...\n");
    countCall();  // ครั้งที่ 1, counter = 1
    printf("After first call:\n");
    countCall();  // ครั้งที่ 2, counter = 1 (เริ่มนับใหม่ทุกครั้ง)
    return 0;
}

//1.ผลลัพธ์ที่ได้ต่างกันอย่างไร? เพราะเหตุใด?
//static: counter เก็บค่าต่อเนื่องระหว่างการเรียกฟังก์ชัน ดังนั้นค่า counter จะเพิ่มขึ้นเรื่อย ๆ
//non-static: counter ถูกประกาศใหม่ทุกครั้งที่เรียกฟังก์ชัน ทำให้ค่าเริ่มที่ 0 เสมอ ค่า counter จึงแสดงผลเป็น 1 ทุกครั้ง
//2.ความแตกต่างของ Non-Static Variable
//Non-static variable จะถูกสร้างและทำลายในแต่ละรอบของฟังก์ชัน (local variable ปกติ)
//ไม่มีการเก็บค่าระหว่างการเรียกซ้ำ
//3.อธิบายและสรุปผลที่ได้จากการทดลอง
//Static variable จะถูกเก็บในหน่วยความจำตลอดเวลาที่โปรแกรมทำงาน ทำให้สามารถเก็บสถานะหรือค่าระหว่างการเรียกใช้ฟังก์ชันได้
//Non-static variable เป็นตัวแปรชั่วคราว สร้างใหม่ทุกครั้งที่เรียกฟังก์ชัน ทำให้ไม่สามารถเก็บค่าเดิมไว้ได้
//Static variable เหมาะสำหรับการเก็บสถานะในฟังก์ชันโดยไม่ต้องใช้ตัวแปร global